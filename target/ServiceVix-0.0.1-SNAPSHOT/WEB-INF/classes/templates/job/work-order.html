<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ServiceVix</title>
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/css/dataTables.bootstrap5.min.css}">
	<link rel="stylesheet" th:href="@{/css/responsive.bootstrap5.min.css}">
	<link rel="stylesheet" th:href="@{/css/slimselect.css}">
	<link rel="stylesheet" th:href="@{/css/bootstrap-icons.min.css}">
	<link rel="stylesheet" th:href="@{/css/bootstrap-select.min.css}">
	<link rel="stylesheet" th:href="@{/css/style.css}">
	<link rel="stylesheet" th:href="@{/css/responsive.css}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

	<!--navbar-->

	<div class="body_container d-flex">
		<div th:replace="component/sidebar :: sidebar"></div>
		<div class="main">
			<!-- haeder -->
			<header th:replace="component/topmenu :: topmenu"></header>
			<!-- headerend -->
			<!-- mainconatiner -->
			<div class="container-fluid  p-2 p-md-3 p-lg-4 scroll-conatiner">
				<!-- send_job_Modal -->
				<div class="modal fade" id="sendJobModal" tabindex="-1" aria-labelledby="sendJobModalLabel"
					aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered modal-lg">
						<div class="modal-content update-profile-modal">
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
							<div class="modal-body">
								<div class="est-header d-flex">
									<h5 class="fw-bold">Email Job</h5>
									<button type="button" class="btn-close" data-bs-dismiss="modal"
										aria-label="Close"></button>
								</div>
								<div class="send-estimate-container mt-4">
									<form class="row g-3">
										<div class="col-md-12">
											<div class="input-items">
												<label for="inputfrom" class="form-label">From:</label>
												<input type="text" class="form-control" id="inputfrom"
													placeholder="johndoe@gmail.com">
											</div>
										</div>
										<div class="col-md-12">
											<div class="input-items">
												<label for="inputTo" class="form-label">To:</label>
												<input type="text" class="form-control" id="inputTo"
													placeholder="johndoe@gmail.com">
											</div>
										</div>
										<div class="col-md-12">
											<div class="input-items">
												<label for="inputsub" class="form-label">Subject:</label>
												<input type="text" class="form-control" id="inputsub"
													value="Your Service Appointment Confirmation From ServiceVix"
													placeholder="Interesting">
											</div>
										</div>
										<hr class="dividing_line">
										<div class="col-md-12">
											<textarea type="text" class="form-control custom-area"
												aria-valuetext="">Dear [Customer's Name],

												Thank you for considering ServiceVix for your [project/service] needs.
												We appreciate the opportunity to provide you with a customized estimate
												based on your requirements. We have carefully reviewed your project
												details and prepared an estimate tailored specifically to meet your
												needs.

												Please find in attachment a breakdown of our estimate:
												We believe our estimate accurately reflects the time, effort, and
												expertise required to successfully complete your project/service. Should
												you have any questions or require further clarification, please do not
												hesitate to reach out to our team. We are more than happy to discuss any
												aspects of the estimate with you.

												Please note that this estimate is valid for a period of [number of days]
												from the date of this email. If you wish to proceed with our services,
												kindly inform us within this timeframe, and we will be glad to initiate
												the next steps.

												We sincerely appreciate your consideration and look forward to the
												possibility of working with you. If you have any additional requirements
												or if there are any changes to your project/service, please let us know,
												and we will be happy to revise the estimate accordingly.

												Thank you once again for considering ServiceVix. We are committed to
												providing you with exceptional [project/service] and ensuring your
												utmost satisfaction.

												Best regards,

												[My Name]
												[My Position]
												[My Company Name]
												[My Contact Information]</textarea>
										</div>
										<div class="col-12">
											<div class="attach_checkboxes">
												<p>Attach</p>
												<div class="row">
													<div class="col-md-6">
														<div class="input-items">
															<input type="checkbox" name="" id="inpPrice">
															<label for="inpPrice" class="form-label">Item Price</label>
														</div>
														<div class="input-items">
															<input type="checkbox" name="" id="attach_total">
															<label for="attach_total" class="form-label">Item
																Total</label>
														</div>
														<div class="input-items">
															<input type="checkbox" name="" id="attach_quan">
															<label for="attach_quan" class="form-label">Item
																Quantity</label>
														</div>
													</div>
													<div class="col-md-6">
														<div class="input-items">
															<input type="checkbox" name="" id="attachinp_total">
															<label for="attachinp_total" class="form-label">Grand
																Total</label>
														</div>
														<div class="input-items">
															<input type="checkbox" name="" id="attachinp_pdf">
															<label for="attachinp_pdf" class="form-label">As PDF</label>
														</div>
													</div>
												</div>
											</div>
											<div class="attach_esti_dropdown"></div>
										</div>
										<button type="button" class="primary-btn send-btn-estimate">Send</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- send_job_Modal_end -->
				<div class="card data-cards ">
					<div class="add-satff-container p-2">
						<div class="data-cards-header d-flex justify-content-between estimate-header">
							<h4>Job #3021</h4>
							<div class="estimate_actions">
								<button type="button"><img th:src="@{/assest/print.svg}" class="img-icon"
										alt="">Print</button>
								<a th:href="@{'/job/edit/'+${job.id}}"><span><button type="button"><img
												th:src="@{/assest/pencil.svg}" class="img-icon"
												alt="">Edit</button></span></a>
								<button type="button" data-bs-toggle="modal" data-bs-target="#sendJobModal"><img
										th:src="@{/assest/paper-plane.svg}" class="img-icon" alt="">Send</button>
							</div>
						</div>
						<div class="data-cards-body mt-4">
							<p class="section-heading">Genearal Information</p>
							<form>
								<div class="row g-4">
									<div class="col-md-6 position-relative">
										<label for="customer_nameEstimate" class=" form-label">Customer name</label>
										<input type="text" class="form-control" id="customer_nameEstimate"
											th:value="${job.customer.customerName}" readonly>
									</div>
									<div class="col-md-6 col-xl-3">
										<label for="multi-email" class="form-label">Email</label>
										<div class="multi-field-wrapper" id="multi_email_wrapper_estimate">
											<div class="multi-fields" id="multi-fields_email">
												<div class="multi-field mb-2" id="multi-field_email">
													<div class="input_and_select">
														<div class="select">
															<select class="selectpicker form-control"
																id="multi-email-estimate"
																name="estimate_email_multi_select" disabled>
																<option
																	th:if="${job.customer != null and #lists.size(job.customer.emails) > 0}"
																	th:selected="${job.customer.emails[0].emailCategory.toString() == 'PERSONAL'}"
																	value="PERSONAL">
																	Personal</option>
																<option
																	th:unless="${job.customer != null and #lists.size(job.customer.emails) > 0}"
																	selected="selected" value="PERSONAL">Personal
																</option>
																<option
																	th:if="${job.customer != null and #lists.size(job.customer.emails) > 0}"
																	th:selected="${job.customer.emails[0].emailCategory.toString() == 'BUSINESS'}"
																	value="BUSINESS">Business</option>
																<option
																	th:unless="${job.customer != null and #lists.size(job.customer.emails) > 0}"
																	selected="BUSINESS" value="PERSONAL">Business
																</option>
																<option
																	th:if="${job.customer != null and #lists.size(job.customer.emails) > 0}"
																	th:selected="${job.customer.emails[0].emailCategory.toString() == 'OTHER'}"
																	value="OTHER">Other</option>
																<option
																	th:unless="${job.customer != null and #lists.size(job.customer.emails) > 0}"
																	selected="OTHER" value="OTHER">Other</option>
															</select>
														</div>
														<input id="estimate_emailID" name="estimate_email_multi"
															th:if="${job.customer != null and #lists.size(job.customer.emails) > 0}"
															th:value="${job.customer.emails[0].email}" readonly
															type="text" class="form-control">
														<input
															th:unless="${job.customer != null and #lists.size(job.customer.emails) > 0}"
															id="job_emailID" type="text" class="form-control" readonly>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="col-md-6 col-xl-3 me-5">
										<label for="multi-mobile" class="form-label">Mobile</label>
										<div class="multi-field-wrapper" id="multi_mobile_wrapper_estimate">
											<div class="multi-fields">
												<div class="multi-field mb-2">
													<div class="input_and_select">
														<div class="select">
															<select class="selectpicker form-control" id="multi-mobile"
																disabled>
																<option value="MOBILE"
																	th:if="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}"
																	th:selected="${job.customer.contactNumbers[0].contactNumberCategory.toString() == 'MOBILE'}">
																	Mobile</option>
																<option
																	th:unless="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}"
																	selected="selected" value="MOBILE">Mobile</option>
																<option value="HOME"
																	th:if="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}"
																	th:selected="${job.customer.contactNumbers[0].contactNumberCategory.toString() == 'HOME'}">
																	Home</option>
																<option value="HOME"
																	th:unless="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}">
																	Home</option>
																<option value="WORK"
																	th:if="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}"
																	th:selected="${job.customer.contactNumbers[0].contactNumberCategory.toString() == 'WORK'}">
																	Work</option>
																<option value="WORK"
																	th:unless="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}">
																	Work</option>
																<option value="OTHER"
																	th:if="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}"
																	th:selected="${job.customer.contactNumbers[0].contactNumberCategory.toString() == 'OTHER'}">
																	Other</option>
																<option value="OTHER"
																	th:unless="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}">
																	Other</option>
															</select>
														</div>
														<input
															th:if="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}"
															th:value="${job.customer.contactNumbers[0].number}"
															id="job_mobileID" type="text" class="form-control "
															name="contactNumber" readonly>
														<input
															th:unless="${job.customer != null and #lists.size(job.customer.contactNumbers) > 0}"
															id="job_mobileID" type="text" class="form-control "
															name="contactNumber" readonly>
													</div>
												</div>
											</div>
											<!--<button type="button" class="add-field" disabled>
											<img th:src="@{/assest/plus.svg}" class="img-icon" alt="">
										</button>-->
										</div>
									</div>
								</div>
								<p class="mt-5 section-heading">Service location</p>
								<div class="row g-4">
									<div class="col-md-6 col-xl-3">
										<label for="location_name" class="form-label">Location
											nickname</label>
										<input type="text" class="form-control" id="location_name"
											name="estimate_email_multi"
											th:if="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}"
											th:value="${job.customer.storedServiceLocations[0].locationNickName}"
											readonly>
										<input type="text" class="form-control" id="es_location_name" readonly
											th:unless="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}">
									</div>
									<div class="col-md-6 col-xl-3">
										<label for="apt_suite" class="form-label">Apt/suite/unit</label>
										<input type="text" class="form-control" id="es_apt_suite"
											th:if="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}"
											th:value="${job.customer.storedServiceLocations[0].unit}" readonly>
										<input type="text" class="form-control" id="es_apt_suite" readonly
											th:unless="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}">
									</div>
									<div class="col-md-6">
										<label for="loca_address" class="form-label">Address</label>
										<input type="text" class="form-control" id="es_loca_address"
											th:if="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}"
											th:value="${job.customer.storedServiceLocations[0].address}" readonly>
										<input type="text" class="form-control" id="es_loca_address" readonly
											th:unless="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}">
									</div>
									<div class="col-md-6 col-xl-3">
										<label for="locat_city" class="form-label">City</label>
										<input type="text" class="form-control" id="es_locat_city"
											th:if="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}"
											th:value="${job.customer.storedServiceLocations[0].city}" readonly>
										<input type="text" class="form-control" id="es_locat_city" readonly
											th:unless="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}">
									</div>
									<div class="col-md-6 col-xl-3">
										<label for="locat_state" class="form-label">State/Zip</label>
										<input type="text" class="form-control" id="es_locat_state"
											th:if="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}"
											th:value="${job.customer.storedServiceLocations[0].state}" readonly>
										<input
											th:unless="${job.customer != null and #lists.size(job.customer.storedServiceLocations) > 0}"
											type="text" class="form-control" id="es_locat_state" readonly>
									</div>
								</div>
								<p class="mt-5 section-heading">Additional information</p>
								<div class="row g-4">
									<div class="col-xl-3 col-md-6">
										<label for="ref_source" class="form-label">Started on</label>
										<input type="date" class="form-control" id="ref_source">
									</div>
									<div class="col-xl-3 col-md-6">
										<label for="ref_source" class="form-label">Ended on</label>
										<input type="date" class="form-control" id="ref_source">
									</div>
									<div class="col-md-6 col-xl-3">
										<label class="form-label">Job Category</label>
										<select class="selectpicker form-control" id="select_indus" name="sel[]">
											<option selected="selected">Select one</option>
											<option value="1">Industry 1</option>
											<option value="1">Industry 2</option>
											<option value="1">Industry 3</option>
											<option value="1">Industry 4</option>
										</select>
									</div>
									<div class="col-md-6 col-xl-3">
										<label for="select_tax_item" class="form-label">Current Status</label>
										<select class="selectpicker form-control" id="select_tax_item" name="sel[]">
											<option th:selected="${job.jobStatus.toString()=='FULL_PAID'}">Full Paid
											</option>
											<option th:selected="${job.jobStatus.toString()=='PARTIALLY_COMPLETED'}">
												Partially Completed</option>
											<option th:selected="${job.jobStatus.toString()=='DISPATCHED'}">Dispatched
											</option>
											<option th:selected="${job.jobStatus.toString()=='UNSCHEDULED'}">Unscheduled
											</option>
										</select>
									</div>
									<div class="col-md-6 col-xl-3">
										<label for="select_tax_item" class="form-label">Assign Tech(s)</label>
										<div class="ding">
											<select id="multiple" multiple>
												<option value="1">Option 1</option>
												<option value="2">Option 2</option>
												<option value="3">Option 3</option>
												<option value="4">Option 4</option>
												<option value="5">Option 5</option>
											</select>
										</div>
									</div>
									<div class="estimate_report_container">
										<div class="container-fluid custome-data-table mt-5 p-0 ">
											<table id="job_table" class="table  ">
												<thead>
													<tr>
														<th> </th>
														<th>Product/Service</th>
														<th>Quantity</th>
													</tr>
												</thead>
												<tbody>
													<tr th:each="optionProduct : ${job.option.optionProducts}">
														<td></td>
														<td class="divtoshow_options">
															<input th:if="${optionProduct.product!=null}" type="text"
																placeholder="Basement Ceiling CC 2" class="form-control"
																name="" id=""
																th:value="${optionProduct.product.productName}"
																readonly />
															<input th:if="${optionProduct.services!=null}" type="text"
																placeholder="Basement Ceiling CC 2" class="form-control"
																name="" id=""
																th:value="${optionProduct.services.serviceName}"
																readonly />
														</td>
														<td>
															<input type="number" class="form-control"
																placeholder="1000.00" name="" id="" readonly
																th:value="${optionProduct.quantity}">
														</td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
									<div class="text-area">
										<input type="text">
										<button type="button" class="add-field">
											<img th:src="@{/assest/plus.svg}" class="img-icon" alt="">
										</button>
									</div>
								</div>
							</form>
						</div>
						<div class="col-12">
							<div class="form-submit">
								<a th:href="@{/job/jobs}" class="secondary-btn form-btns me-3">Cancel</a>
							</div>
						</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>
	<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
	<script th:src="@{/js/jquery.min.js}"></script>
	<script th:src="@{/js/bootstrap-select.min.js}"></script>
	<script th:src="@{/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/js/dataTables.responsive.min.js}"></script>
	<script th:src="@{/js/responsive.bootstrap5.min.js}"></script>
	<script th:src="@{/js/dataTables.bootstrap5.min.js}"></script>
	<script th:src="@{/js/slimselect.js}"></script>
	<script th:src="@{/js/initializeDataTables.js}"></script>
	<script th:src="@{/js/customNewTab.js}"></script>
	<script th:src="@{/js/main.js}"></script>
	<script>
		const addIcon = document.querySelector('.add-field');
		const textAreaContainer = document.querySelector('.text-area');

		addIcon.addEventListener('click', function () {
			const newTextArea = document.createElement('input');
			newTextArea.type = 'text';
			newTextArea.placeholder = 'Text Area ' + (textAreaContainer.children.length + 1);
			textAreaContainer.insertBefore(newTextArea, addIcon);
		});
	</script>
</body>

</html>